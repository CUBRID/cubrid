image:
  - Visual Studio 2019

environment:
  CMAKE_GENERATOR: "Visual Studio 16 2019"
  BUILD_TYPE: RelWithDebInfo

matrix:
  fast_finish: true

install:
  - cinst ant -i

build_script:
  - cmake -E make_directory build
  - cmake -E chdir build cmake -G "%CMAKE_GENERATOR%" -A x64 -DCMAKE_BUILD_TYPE=%BUILD_TYPE% -DUNIT_TESTS=ON ..
  - cmake --build build --config %BUILD_TYPE%
